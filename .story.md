---
focus: src/test/java/bowling/IntermediateFrameTest.java
---
## The Tenth Frame
We will now try to capture the rules for the tenth frame.
Let's look at the two special rules related to this entity:

> *"In the tenth frame a player who rolls a spare or strike is allowed to roll the extra balls to complete the frame."* 
>
> *"However no more than three balls can be rolled in tenth frame."* 

We will start first with refactoring in this situation. 
We need to introduce the new functionality by extending the Frame class, so we will convert it to an interface.

Let's first rename and modify the `FrameTest` class to reflect the changes.
I'll rename it to `IntermediateFrameTest` and initialize the target of the test before running the test cases.
See the first changes over [here](bowling.IntermediateFrameTest:14).

When I run the test I should expect that they're working without any issue (this was just a refactoring step).

It's a bit hard to decide whenever an interface, or an abstract class would be more suitable for the base class of both
`IntermediateFrame` and `FinalFrame`. Both have their own benefits:

## Notes

* Interfaces explicitly say which methods each newly introduced class should implement
* Abstract classes can have default implementations or explicitly declared `final` implementations of a functionality.
* It is harder to declare an abstract class in the right way for the first time to simplify the introduction of a new functionality with extension.

To defer this decision later, we add both an interface and an abstract base class. 

I can extract the essential interface in [Frame](src/main/java/bowling/Frame.java) and sketch out the necessary methods.
Next, it's time to make the new hierarchy pass the tests. 
I decided to keep basic functionalities, like [first roll](src/main/java/bowling/BaseFrame.java:11)
and [second roll](src/main/java/bowling/BaseFrame.java:15) in the `BaseFrame` class. 
Also, it can decide whenever a player rolled a [strike](src/main/java/bowling/BaseFrame.java:36)
 or a [spare](src/main/java/bowling/BaseFrame.java:40)

Now, I decide that `BaseFrame` will guard the invariants related to `firstRoll` and `secondRoll`,
so I'll keep the [roll method](src/main/java/bowling/BaseFrame.java:20-34) in `BaseFrame`
and the [score method] in the [IntermediateFrame](src/main/java/bowling/IntermediateFrame.java:8-17)

This turned out to be a bad decision later. Both rules are quite special, depending on whenever
player is rolling in the tenth frame or not.

After ensuring, that our new `IntermediateFrameTest` is working, we need to specifiy functionalities
for the tenth frame. I created a [FinalFrameTest](src/test/java/bowling/FinalFrameTest.java) and
just copied over all the test cases. In the [`@BeforeEach`](src/test/java/bowling/FinalFrameTest.java:14)
method I'm creating a different subtype and change the test cases based on the provided two requirements.
