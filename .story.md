---
focus: src/main/java/bowling/Game.java
---
## Summary

We've learned how to keep invariants inside our domain and compose a bigger structure,
like an aggregate from smaller elements. This solution fosters TDD and ensures, that
bugs related to complex object creation can be caught up early on during the development phase.

I encourage you to look at the code and improve the design even further by
applying the following refactorings

### Changing the constructor in `Game`
The [constructor](src/main/java/bowling/Game.java:13) of game is a bit complex. We could
rely more on the current frame's `hasMoreRolls()` method and build up the game lazily during 
each call of the `roll()` method. Try to put this logic close to the point where
[we increment](src/main/java/bowling/Game.java:30-33) the `currentFrame` counter inside `roll()`

### Removing null checks from IntermediateFrame
Null checks are not your friend. In `IntermedateFrame` it is hidden inside the 
[`hasNext()` method](src/main/java/bowling/IntermediateFrame.java:48),
but still used in [many](src/main/java/bowling/IntermediateFrame.java:29) [places](src/main/java/bowling/IntermediateFrame.java:31).
Try to eliminate these null checks by implementing a [null object](https://sourcemaking.com/design_patterns/null_object):

* Create a `NoFrame` class that implements `Frame`.
* Set `NoFrame` as the default value inside `IntermediateFrame` for the `next` property.

You can see how I solved the problem by visiting [this link](https://github.com/gitaroktato/tdd-kata-bowling-game/pull/1/files).